{"ast":null,"code":"import{useState,useEffect}from'react';/**\r\n * Custom hook for managing dark/light theme with localStorage persistence\r\n * @returns {Object} { darkMode: boolean, toggleDarkMode: function, setTheme: function }\r\n */export const useTheme=()=>{const[darkMode,setDarkMode]=useState(()=>{try{// Check localStorage first\nconst savedTheme=localStorage.getItem('portfolio-theme');if(savedTheme){return savedTheme==='dark';}// If no saved preference, check system preference\nif(window.matchMedia&&window.matchMedia('(prefers-color-scheme: dark)').matches){return true;}// Default to dark mode (matches your portfolio design)\nreturn true;}catch(error){if(process.env.NODE_ENV==='development'){// eslint-disable-next-line no-console\nconsole.warn('Error reading theme from localStorage:',error);}return true;// Default to dark mode\n}});// Apply theme changes to DOM and localStorage\nuseEffect(()=>{try{const root=document.documentElement;if(darkMode){root.classList.add('dark');localStorage.setItem('portfolio-theme','dark');// Update meta theme-color for mobile browsers\nupdateMetaThemeColor('#0a0a0f');// dark background\n}else{root.classList.remove('dark');localStorage.setItem('portfolio-theme','light');// Update meta theme-color for mobile browsers\nupdateMetaThemeColor('#f3f4f6');// light background\n}}catch(error){if(process.env.NODE_ENV==='development'){// eslint-disable-next-line no-console\nconsole.warn('Error saving theme to localStorage:',error);}}},[darkMode]);// Listen for system theme changes\nuseEffect(()=>{const mediaQuery=window.matchMedia('(prefers-color-scheme: dark)');const handleSystemThemeChange=e=>{try{// Only auto-switch if user hasn't manually set a preference\nconst savedTheme=localStorage.getItem('portfolio-theme');if(!savedTheme){setDarkMode(e.matches);}}catch(error){if(process.env.NODE_ENV==='development'){// eslint-disable-next-line no-console\nconsole.warn('Error handling system theme change:',error);}}};// Add event listener for system theme changes\nif(mediaQuery.addEventListener){mediaQuery.addEventListener('change',handleSystemThemeChange);}else{// Fallback for older browsers\nmediaQuery.addListener(handleSystemThemeChange);}// Cleanup\nreturn()=>{if(mediaQuery.removeEventListener){mediaQuery.removeEventListener('change',handleSystemThemeChange);}else{mediaQuery.removeListener(handleSystemThemeChange);}};},[]);// Toggle between dark and light mode\nconst toggleDarkMode=()=>{setDarkMode(prevMode=>!prevMode);};// Set specific theme\nconst setTheme=theme=>{if(theme==='dark'||theme==='light'){setDarkMode(theme==='dark');}else if(theme==='system'){// Follow system preference\nconst systemPrefersDark=window.matchMedia('(prefers-color-scheme: dark)').matches;setDarkMode(systemPrefersDark);// Remove saved preference to follow system\nlocalStorage.removeItem('portfolio-theme');}};return{darkMode,toggleDarkMode,setTheme,currentTheme:darkMode?'dark':'light'};};// Helper function to update meta theme-color\nconst updateMetaThemeColor=color=>{try{let metaThemeColor=document.querySelector('meta[name=\"theme-color\"]');if(!metaThemeColor){metaThemeColor=document.createElement('meta');metaThemeColor.name='theme-color';document.head.appendChild(metaThemeColor);}metaThemeColor.content=color;}catch(error){if(process.env.NODE_ENV==='development'){// eslint-disable-next-line no-console\nconsole.warn('Error updating meta theme-color:',error);}}};export default useTheme;","map":{"version":3,"names":["useState","useEffect","useTheme","darkMode","setDarkMode","savedTheme","localStorage","getItem","window","matchMedia","matches","error","process","env","NODE_ENV","console","warn","root","document","documentElement","classList","add","setItem","updateMetaThemeColor","remove","mediaQuery","handleSystemThemeChange","e","addEventListener","addListener","removeEventListener","removeListener","toggleDarkMode","prevMode","setTheme","theme","systemPrefersDark","removeItem","currentTheme","color","metaThemeColor","querySelector","createElement","name","head","appendChild","content"],"sources":["C:/Assigment/portfolio/src/hooks/useTheme.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n/**\r\n * Custom hook for managing dark/light theme with localStorage persistence\r\n * @returns {Object} { darkMode: boolean, toggleDarkMode: function, setTheme: function }\r\n */\r\nexport const useTheme = () => {\r\n  const [darkMode, setDarkMode] = useState(() => {\r\n    try {\r\n      // Check localStorage first\r\n      const savedTheme = localStorage.getItem('portfolio-theme');\r\n      if (savedTheme) {\r\n        return savedTheme === 'dark';\r\n      }\r\n      \r\n      // If no saved preference, check system preference\r\n      if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n        return true;\r\n      }\r\n      \r\n      // Default to dark mode (matches your portfolio design)\r\n      return true;\r\n    } catch (error) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        // eslint-disable-next-line no-console\r\n        console.warn('Error reading theme from localStorage:', error);\r\n      }\r\n      return true; // Default to dark mode\r\n    }\r\n  });\r\n\r\n  // Apply theme changes to DOM and localStorage\r\n  useEffect(() => {\r\n    try {\r\n      const root = document.documentElement;\r\n      \r\n      if (darkMode) {\r\n        root.classList.add('dark');\r\n        localStorage.setItem('portfolio-theme', 'dark');\r\n        // Update meta theme-color for mobile browsers\r\n        updateMetaThemeColor('#0a0a0f'); // dark background\r\n      } else {\r\n        root.classList.remove('dark');\r\n        localStorage.setItem('portfolio-theme', 'light');\r\n        // Update meta theme-color for mobile browsers\r\n        updateMetaThemeColor('#f3f4f6'); // light background\r\n      }\r\n    } catch (error) {\r\n      if (process.env.NODE_ENV === 'development') {\r\n        // eslint-disable-next-line no-console\r\n        console.warn('Error saving theme to localStorage:', error);\r\n      }\r\n    }\r\n  }, [darkMode]);\r\n\r\n  // Listen for system theme changes\r\n  useEffect(() => {\r\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n    \r\n    const handleSystemThemeChange = (e) => {\r\n      try {\r\n        // Only auto-switch if user hasn't manually set a preference\r\n        const savedTheme = localStorage.getItem('portfolio-theme');\r\n        if (!savedTheme) {\r\n          setDarkMode(e.matches);\r\n        }\r\n      } catch (error) {\r\n        if (process.env.NODE_ENV === 'development') {\r\n          // eslint-disable-next-line no-console\r\n          console.warn('Error handling system theme change:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    // Add event listener for system theme changes\r\n    if (mediaQuery.addEventListener) {\r\n      mediaQuery.addEventListener('change', handleSystemThemeChange);\r\n    } else {\r\n      // Fallback for older browsers\r\n      mediaQuery.addListener(handleSystemThemeChange);\r\n    }\r\n\r\n    // Cleanup\r\n    return () => {\r\n      if (mediaQuery.removeEventListener) {\r\n        mediaQuery.removeEventListener('change', handleSystemThemeChange);\r\n      } else {\r\n        mediaQuery.removeListener(handleSystemThemeChange);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Toggle between dark and light mode\r\n  const toggleDarkMode = () => {\r\n    setDarkMode(prevMode => !prevMode);\r\n  };\r\n\r\n  // Set specific theme\r\n  const setTheme = (theme) => {\r\n    if (theme === 'dark' || theme === 'light') {\r\n      setDarkMode(theme === 'dark');\r\n    } else if (theme === 'system') {\r\n      // Follow system preference\r\n      const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n      setDarkMode(systemPrefersDark);\r\n      // Remove saved preference to follow system\r\n      localStorage.removeItem('portfolio-theme');\r\n    }\r\n  };\r\n\r\n  return {\r\n    darkMode,\r\n    toggleDarkMode,\r\n    setTheme,\r\n    currentTheme: darkMode ? 'dark' : 'light'\r\n  };\r\n};\r\n\r\n// Helper function to update meta theme-color\r\nconst updateMetaThemeColor = (color) => {\r\n  try {\r\n    let metaThemeColor = document.querySelector('meta[name=\"theme-color\"]');\r\n    \r\n    if (!metaThemeColor) {\r\n      metaThemeColor = document.createElement('meta');\r\n      metaThemeColor.name = 'theme-color';\r\n      document.head.appendChild(metaThemeColor);\r\n    }\r\n    \r\n    metaThemeColor.content = color;\r\n  } catch (error) {\r\n    if (process.env.NODE_ENV === 'development') {\r\n      // eslint-disable-next-line no-console\r\n      console.warn('Error updating meta theme-color:', error);\r\n    }\r\n  }\r\n};\r\n\r\nexport default useTheme;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}